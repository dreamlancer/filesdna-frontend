(this.webpackJsonpfilesdna=this.webpackJsonpfilesdna||[]).push([[195],{1860:function(e,a,t){"use strict";t.r(a);var l=t(35),n=t.n(l),r=(t(568),t(573)),m=(t(65),t(66)),c=(t(72),t(73)),i=(t(137),t(141)),s=(t(147),t(99)),u=t(33),d=t(43),E=t(29),o=t(0),p=t.n(o),b=t(61),g=t(53),h=t(45),v=t(69),O=t(68),j=t(457),y=t(110);a.default=function(e){var a=e.initialValues,t=void 0===a?{}:a,l=e.visible,f=e.onClose,q=e.handleSubmit,I=void 0===q?function(){}:q,k=t?Object(E.a)({},t):{},w=!Object(g.isEmpty)(k)&&k.id,x=Object(o.useState)(!1),C=Object(d.a)(x,2),T=C[0],S=C[1];function _(){return(_=Object(u.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),w?"update":"create",e.prev=2,a.parent_template_id=k.id,e.next=6,Object(v.a)("user-email-template/create",a,"POST");case 6:(t=e.sent).success&&Object(g.isObject)(t.data)?(S(!1),I(t.data,w),Object(O.a)("success",t.message)):(S(!1),Object(O.a)("error",t.message)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),S(!1),Object(O.a)("error");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return p.a.createElement(r.a,{title:p.a.createElement(h.a,{id:w?"email.editEmailTemp":"email.addEmailTemp"}),width:700,onClose:f,visible:l,bodyStyle:{paddingBottom:80},destroyOnClose:!0},p.a.createElement(y.d,null,p.a.createElement(i.a,{onFinish:function(e){var a=Object(E.a)({},e);w&&(a.id=k.id),function(e){_.apply(this,arguments)}(a)},layout:"vertical",initialValues:k},p.a.createElement(m.a,{gutter:6},p.a.createElement(c.a,{span:12},p.a.createElement(i.a.Item,{label:p.a.createElement(h.a,{id:"email.template"}),name:"name",rules:[{required:!0,message:p.a.createElement(h.a,{id:"email.template.req"})}]},p.a.createElement(s.a,null))),p.a.createElement(c.a,{span:12},p.a.createElement(i.a.Item,{label:p.a.createElement(h.a,{id:"email.sub"}),name:"subject",rules:[{required:!0,message:p.a.createElement(h.a,{id:"email.sub.req"})}]},p.a.createElement(s.a,null)))),p.a.createElement(m.a,{gutter:6},p.a.createElement(c.a,{span:24},p.a.createElement(i.a.Item,{label:p.a.createElement(h.a,{id:"email.content"}),name:"content",rules:[{required:!0,message:p.a.createElement(h.a,{id:"email.content.req"})}]},p.a.createElement(j.a,null)))),p.a.createElement(m.a,{gutter:6},p.a.createElement(c.a,{span:24},p.a.createElement(i.a.Item,{label:p.a.createElement(h.a,{id:"email.short.desc"}),name:"text_version",rules:[{required:!0,message:p.a.createElement(h.a,{id:"email.short.desc.req"})}]},p.a.createElement(s.a.TextArea,{type:"textarea",rows:5})))),p.a.createElement(m.a,{gutter:6},p.a.createElement(c.a,{span:24},p.a.createElement(i.a.Item,{label:p.a.createElement(h.a,{id:"email.tags"}),name:"available_tags",rules:[{required:!0,message:p.a.createElement(h.a,{id:"email.tags.req"})}]},p.a.createElement(s.a,null)))),p.a.createElement(y.a,{className:"bottomBtnWrapper"},p.a.createElement(i.a.Item,null,p.a.createElement(b.a,{onClick:f,style:{marginRight:8}},p.a.createElement(h.a,{id:"common.cancel"}))),p.a.createElement(i.a.Item,null,p.a.createElement(b.a,{type:"primary",htmlType:"submit",loading:T},p.a.createElement(h.a,{id:"Make a Copy"})))))))}}}]);