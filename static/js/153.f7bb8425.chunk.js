(this.webpackJsonpfilesdna=this.webpackJsonpfilesdna||[]).push([[153],{1096:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n.n(a),i=(n(95),n(96)),c=(n(65),n(66)),o=(n(72),n(73)),u=n(33),l=n(43),s=n(0),d=n.n(s),f=n(68),m=n(69),b=n(210),p=n(45),v=n(110),O=n(53),g=n(600);t.default=function(e){var t=e.handleSubmit,n=void 0===t?function(){}:t,a=e.visible,h=void 0!==a&&a,j=e.onClose,x=void 0===j?function(){}:j,E=e.docId,y=void 0===E?"":E,w=e.folderId,A=void 0===w?"":w,k=e.type,H=void 0===k?"":k,D=e.dData,S=void 0===D?{}:D,C="copy"===H,I=Object(s.useState)(!1),L=Object(l.a)(I,2),_=L[0],z=L[1],M=Object(s.useState)([]),P=Object(l.a)(M,2),N=P[0],T=P[1],V=Object(s.useState)(!1),R=Object(l.a)(V,2),B=R[0],q=R[1];function F(){return(F=Object(u.a)(r.a.mark((function e(){var t,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),t=Object(O.isArray)(N)&&!Object(O.isEmpty)(N)?N.toString():"",e.prev=2,a=C?"copy-document":"move-document",e.next=6,Object(m.a)("file/".concat(a),{document_id:y,folder_id:C?t||A:t},"POST");case 6:(i=e.sent).success?(z(!1),Object(f.a)("success",i.message),n()):(z(!1),Object(f.a)("error",i.message)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),z(!1),Object(f.a)("error");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}Object(s.useEffect)((function(){q(h)}),[h]);var J=C?"documents.copyto":"documents.moveto",K=C?"common.copy":"common.move",Q=C?"copy-to":"move-to";return d.a.createElement(v.d,null,d.a.createElement(b.a,{visible:h,onClose:_?null:x,title:d.a.createElement(p.a,{id:J}),okText:d.a.createElement(p.a,{id:K}),onOk:_?null:function(){var e=!0;N&&!Object(O.isEmpty)(N)||C||(e=!1,Object(f.a)("error","req.folder")),e&&function(){F.apply(this,arguments)}()},onCancel:_?null:x,confirmLoading:_,okButtonProps:{id:Q}},d.a.createElement(i.a,{spinning:_},d.a.createElement(c.a,{gutter:6},d.a.createElement(o.a,{span:24},d.a.createElement(g.a,{docId:y,dData:S,folderId:A,visible:B,onSelect:function(e){return T(e)},selected:N,type:H,hint:C?"documents.folderCopyHint":""}))))))}},1876:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n.n(a),i=(n(78),n(63)),c=n(29),o=n(33),u=n(43),l=(n(94),n(92)),s=n(0),d=n.n(s),f=n(45),m=n(1096),b=n(209),p=n(360),v=n(68),O=n(69),g=n(325),h=n(5),j=n(4),x=n(50);function E(){var e=Object(h.a)(["\n  margin-bottom: 14px;\n  display: flex;\n  flex-flow: row wrap;\n  position: absolute;\n  height: 0;\n  opacity: 0;\n  z-index: -1;\n  transition: all 0.3s;\n\n  &.visible {\n    position: static;\n    height: auto;\n    opacity: 1;\n    z-index: 1;\n  }\n\n  & button {\n    margin-right: 10px;\n    border-color: #d9d9d9;\n  }\n\n  & .divider {\n    margin: 0 20px 0 10px;\n    width: 1px;\n    background: #eee;\n  }\n"]);return E=function(){return e},e}var y=Object(x.a)(j.d.div(E())),w=n(1817),A=n(1896),k=n(297),H=n(694),D=n(788),S=[{id:"move",title:"common.moveto",icon:d.a.createElement(w.a,null)},{id:"merge",title:"common.merge",icon:d.a.createElement(A.a,null)},{id:"delete",title:"trash.move",icon:d.a.createElement(k.a,null),danger:!0},{divider:!0},{id:"select-all",title:"common.selectAll",icon:d.a.createElement(H.a,null)},{id:"un-select-all",title:"common.unselectAll",icon:d.a.createElement(D.a,null)}],C=l.a.confirm;t.default=function(e){var t=e.visible,n=void 0!==t&&t,a=e.dData,l=e.selected,h=e.folderId,j=e.fetchData,x=void 0===j?function(){}:j,E=e.selectAllFiles,w=void 0===E?function(){}:E,A=e.setSelected,k=void 0===A?function(){}:A,H=e.files,D=void 0===H?[]:H,I=Object(s.useState)({btnLoading:!1}),L=Object(u.a)(I,2),_=L[0],z=L[1];function M(){return(M=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z((function(e){return Object(c.a)(Object(c.a)({},e),{},{btnLoading:"merge"})})),e.prev=1,e.next=4,Object(O.a)("file/merge-document",{document_id:l},"POST");case 4:t=e.sent,n="error",z((function(e){return Object(c.a)(Object(c.a)({},e),{},{btnLoading:!1})})),t.success&&(n="success",x()),Object(v.a)(n,t.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),z((function(e){return Object(c.a)(Object(c.a)({},e),{},{btnLoading:!1})})),Object(v.a)("error");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function P(){return(P=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z((function(e){return Object(c.a)(Object(c.a)({},e),{},{btnLoading:"delete"})})),e.prev=1,e.next=4,Object(O.a)("trash/move-to-trash",{document_id:l},"POST");case 4:t=e.sent,z((function(e){return Object(c.a)(Object(c.a)({},e),{},{btnLoading:!1})})),n="error",t.success&&(n="success",x()),Object(v.a)(n,t.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),z((function(e){return Object(c.a)(Object(c.a)({},e),{},{btnLoading:!1})})),Object(v.a)("error");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function N(){!function(){P.apply(this,arguments)}(l)}function T(e){if("move"===e&&z((function(e){return Object(c.a)(Object(c.a)({},e),{},{moveVisible:"move"})})),"delete"===e){var t=!0,n="";if(Object(g.b)(D,(function(e){return l.indexOf(e.id)>-1&&(e.security_type?(n="err.deleteClassified",!0):"Preparing"===e.status?(n="document.preparingErr",!0):e.is_share?(n="document.sharedErr",!0):"Completed"!==e.status&&"Pending"!==e.status&&"Draft"!==e.status&&"Declined"!==e.status?(n="document.trashError","Pending Owner"===e.status&&(n="document.trashOwnerError"),!0):n)}))&&n)return t=!1,void Object(v.a)("error",n);t&&N()}if("select-all"===e&&w(),"un-select-all"===e&&k([]),"merge"===e)if(2===l.length){var a=!0;if(Object(g.b)(D,(function(e){return l.indexOf(e.id)>-1&&"application/pdf"!==e.file_type})))return a=!1,void Object(v.a)("error","document.mergeHint");if(Object(g.b)(D,(function(e){return l.indexOf(e.id)>-1&&!!e.security_type})))return a=!1,void Object(v.a)("error","err.mergeClassified");a&&C({title:Object(b.a)("documents.mergeConfirm"),icon:d.a.createElement(p.a,null),maskClosable:!0,okText:Object(b.a)("common.merge"),onOk:function(){!function(){M.apply(this,arguments)}()}})}else Object(v.a)("error","document.mergeHint")}return d.a.createElement(d.a.Fragment,null,d.a.createElement(y,{className:n?"visible":""},S.map((function(e,t){return e.divider?d.a.createElement("div",{className:"divider",key:t}):d.a.createElement(i.a,{key:e.id,loading:_.btnLoading===e.id,onClick:function(){return _.btnLoading?null:T(e.id)},icon:e.icon,danger:e.danger},d.a.createElement(f.a,{id:e.title}),e.rIcon&&e.rIcon)}))),d.a.createElement(m.default,{type:_.moveVisible,dData:a,visible:!!_.moveVisible,onClose:function(){return z((function(e){return Object(c.a)(Object(c.a)({},e),{},{moveVisible:!1})}))},docId:l,folderId:h,handleSubmit:function(){z((function(e){return Object(c.a)(Object(c.a)({},e),{},{moveVisible:!1})})),x()}}))}},199:function(e,t,n){"use strict";var a=n(142),r=n(0),i=n.n(r),c=n(220);t.a=function(e){var t=e.id,n=e.style,r=e.children,o=e.className,u=e.autoHide,l=void 0===u||u,s=e.autoHeight,d=e.autoHeightMin,f=void 0===d?0:d,m=e.autoHeightMax,b=void 0===m?200:m,p=e.sRef,v=Object(a.a)(e,["id","style","children","className","autoHide","autoHeight","autoHeightMin","autoHeightMax","sRef"]);return i.a.createElement(c.Scrollbars,Object.assign({ref:p,id:t,className:o,style:n,autoHide:l,autoHideTimeout:1e3,autoHideDuration:200,thumbMinSize:30,universal:!0,autoHeight:s,autoHeightMin:f,autoHeightMax:b},v),r)}},210:function(e,t,n){"use strict";n(94);var a=n(92);t.a=a.a},325:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));n(29);var a=n(53);function r(e,t,n){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var e,a=document.createElement("canvas"),r=a.getContext("2d");a.height=this.naturalHeight,a.width=this.naturalWidth,r.drawImage(this,0,0),e=a.toDataURL(n),t(e)},a.src=e,(a.complete||void 0===a.complete)&&(a.src="data:image/gif;base64, R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",a.src=e)}function i(e,t){for(var n=t?e.length:0,r=0;r<n;r+=1){var i=e[r]&&e[r].getObjects()||[],c=t?Object(a.find)(i,t):{};if(c)return c}return{}}function c(e,t){for(var n=t?e.length:0,a=null,r=0;r<n;r+=1){var i=e[r];if(t(i)&&i){a=i;break}}return a}function o(e){return[5,10,25,50,75,100].concat(e?[]:[150])}},534:function(e,t,n){"use strict";var a=n(5),r=n(4),i=n(50),c=n(56);function o(){var e=Object(a.a)(["\n  & .moveHome {\n    padding: 6px;\n    margin-bottom: 8px;\n    cursor: pointer;\n    transition: all 0.3s;\n\n    &:hover {\n      background-color: #f5f5f5;\n    }\n\n    &.selected {\n      background: ",";\n      color: #fff;\n    }\n\n    & p {\n      font-size: 15px;\n      & .anticon {\n        margin: ",";\n        font-size: 16px;\n      }\n    }\n  }\n\n  & .ant-tree {\n    & .ant-tree-list {\n      & .ant-tree-list-holder-inner {\n        overflow-x: auto;\n\n        & .ant-tree-treenode {\n          & .ant-tree-indent {\n            white-space: initial;\n          }\n        }\n      }\n\n      & .ant-tree-switcher,\n      & .ant-tree-iconEle {\n        height: 34px;\n        line-height: 34px;\n\n        & .anticon {\n          font-size: 13px;\n        }\n      }\n      & .ant-tree-iconEle {\n        & .anticon {\n          font-size: 18px;\n        }\n      }\n      & .ant-tree-node-content-wrapper {\n        min-height: 34px;\n        line-height: 34px;\n\n        & .ant-tree-title {\n          font-size: 15px;\n          font-weight: 500;\n          margin-left: 5px;\n        }\n      }\n    }\n  }\n"]);return o=function(){return e},e}var u=Object(i.a)(r.d.div(o(),Object(c.palette)("primary",0),(function(e){return"rtl"===e["data-rtl"]?"0 25px 0 10px":"0 10px 0 0"})));t.a=u},600:function(e,t,n){"use strict";var a=n(35),r=n.n(a),i=n(29),c=(n(95),n(96)),o=(n(109),n(249)),u=n(33),l=n(43),s=(n(532),n(559)),d=n(0),f=n.n(d),m=n(68),b=n(69),p=n(45),v=n(199),O=n(53),g=n(653),h=n(789),j=n(534),x=s.a.DirectoryTree;t.a=function(e){var t=e.visible,n=void 0!==t&&t,a=e.dData,s=void 0===a?{}:a,E=e.folderId,y=void 0===E?"":E,w=e.onSelect,A=void 0===w?function(){}:w,k=e.height,H=e.selected,D=void 0===H?[]:H,S=e.hint,C=void 0===S?"":S,I=Object(d.useState)({loading:!1,data:[]}),L=Object(l.a)(I,2),_=L[0],z=L[1],M=g.a?800:window.innerHeight;function P(){return(P=Object(u.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!0})})),e.prev=1,e.next=4,Object(b.a)("file/get-tree",{doc_type:(null===s||void 0===s||null===(t=s.apiData)||void 0===t?void 0:t.doc_type)||"Document"});case 4:(n=e.sent).success?z((function(e){return Object(i.a)(Object(i.a)({},e),{},{data:n.data,loading:!1})})):(z((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!1})})),Object(m.a)("error",n.message)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),z((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!1})})),Object(m.a)("error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function N(e){var t=Object(O.isEqual)(e,D)?[]:e;A(t)}function T(){N(["0"])}return Object(d.useEffect)((function(){n?function(){P.apply(this,arguments)}():A([])}),[n]),f.a.createElement(j.a,null,C&&f.a.createElement("p",{className:"mb20"},f.a.createElement(p.a,{id:C})),f.a.createElement(c.a,{spinning:_.loading||!1},Object(O.isEmpty)(_.data)?f.a.createElement(o.a,{description:f.a.createElement(p.a,{id:"documents.noDir"})}):f.a.createElement(v.a,{style:{height:k||M-Math.round(M/1.5)}},function(){var e=D&&"0"===D[0];return"0"===y?null:f.a.createElement("div",{className:"moveHome ".concat(e?"selected":""),role:"button",tabIndex:-1,onKeyDown:T,onClick:T},f.a.createElement("p",null,f.a.createElement(h.a,null),f.a.createElement(p.a,{id:"documents.homedir"})))}(),f.a.createElement(x,{height:k,treeData:_.data,onSelect:N,selectedKeys:D}))))}}}]);