(this.webpackJsonpfilesdna=this.webpackJsonpfilesdna||[]).push([[201],{1843:function(e,t,a){"use strict";a.r(t);var n=a(35),r=a.n(n),i=a(29),c=(a(94),a(92)),l=(a(65),a(66)),s=(a(507),a(513)),m=(a(72),a(73)),o=(a(195),a(174)),u=a(33),d=(a(137),a(141)),p=a(43),b=a(0),f=a.n(b),E=a(45),v=a(135),x=a(69),O=a(68),j=a(53),h=a(223);t.default=Object(h.d)((function(e){var t=e.docId,a=void 0===t?"":t,n=e.visible,h=e.onClose,g=e.handleSubmit,k=e.intl,y=d.a.useForm(),T=Object(p.a)(y,1)[0],_=Object(b.useState)(!1),w=Object(p.a)(_,2),I=w[0],S=w[1];function F(){return(F=Object(u.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),n=Object(i.a)(Object(i.a)({},t),{},{document_id:a||""}),e.prev=2,e.next=5,Object(x.a)("get-qrcode",n,"POST");case 5:(c=e.sent).success?(g(c.data),h()):Object(O.a)("error",c.message),S(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),S(!1),Object(O.a)("error");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(v.a)({form:T,visible:n,initVal:{is_expire:!1}}),f.a.createElement(c.a,{title:f.a.createElement(E.a,{id:"documents.addQr"}),visible:n,okText:f.a.createElement(E.a,{id:"common.add"}),onCancel:I?null:h,onOk:I?null:function(){T.validateFields().then((function(e){!function(e){F.apply(this,arguments)}(e)}))},confirmLoading:I},f.a.createElement(d.a,{form:T,layout:"vertical"},f.a.createElement(l.a,{gutter:[12,12]},f.a.createElement(m.a,{span:24},f.a.createElement(d.a.Item,{name:"is_expire",valuePropName:"checked"},f.a.createElement(o.a,null,f.a.createElement("span",{style:{fontSize:15}},f.a.createElement(E.a,{id:"document.expireTimeTitle"}))))),f.a.createElement(d.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.is_expire!==t.is_expire}},(function(e){return(0,e.getFieldValue)("is_expire")?f.a.createElement(f.a.Fragment,null,f.a.createElement(m.a,{span:24},f.a.createElement(d.a.Item,{label:f.a.createElement(E.a,{id:"document.expireTime"}),name:"expire_time",rules:[{required:!0,message:f.a.createElement(E.a,{id:"req.expireTime"})},function(){return{validator:function(e,t){return t&&!Object(j.isInteger)(t)||Object(j.isNumber)(t)&&t<1?Promise.reject(f.a.createElement(E.a,{id:"err.expireTime"})):Promise.resolve()}}}]},f.a.createElement(s.a,{placeholder:k.formatMessage({id:"common.daysCap"}),min:1,max:1e3,style:{width:"100%"}})))):null})))))}))}}]);