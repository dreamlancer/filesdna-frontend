(this.webpackJsonpfilesdna=this.webpackJsonpfilesdna||[]).push([[129],{1855:function(e,t,n){"use strict";n.r(t);n(65);var a=n(66),r=(n(95),n(96)),i=(n(132),n(134)),o=(n(72),n(73)),c=n(35),s=n.n(c),d=n(29),p=n(33),l=n(43),f=n(0),u=n.n(f),g=n(209),m=n(45),x=n(61),b=n(110),h=n(967),v=n.n(h),w=n(68),y=n(214),j=n(69),E=n(187),O=n(1784),k=n.n(O),S=n(1786),F=n.n(S),N=n(1787),D=n(364),T=n.n(D),_=n(93),z=n(184),C=n(966),P=E.a.setUserObj;t.default=function(){var e=Object(_.useSelector)((function(e){return e.Auth.userData}))||{},t=Object(_.useDispatch)(),n=Object(f.useState)(!1),c=Object(l.a)(n,2),h=c[0],E=c[1],O=u.a.useRef(null),S=u.a.useState([]),D=Object(l.a)(S,2),I=D[0],U=D[1],W=u.a.useState(0),J=Object(l.a)(W,2),L=J[0],M=J[1],G=u.a.useState(!1),R=Object(l.a)(G,2),V=R[0],A=R[1],B=function(){var n=Object(p.a)(s.a.mark((function n(a){var r,i,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return A(!0),n.prev=1,n.next=4,Object(j.a)("user/change-verified",{type:"ID",user_id:e.user_id||""},"POST");case 4:(r=n.sent).success?(i=100*a.percentage,o="".concat(Object(g.a)("settings.uploadSuccess")," (").concat(i.toFixed(2),"%)"),t(P(Object(d.a)(Object(d.a)({},e),{},{is_verify_id:1}))),Object(w.a)("success",o)):Object(w.a)("error",r.message),A(!1),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),A(!1),Object(w.a)("error");case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(s.a.mark((function e(t,n){var a,r,i,o,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.current.getScreenshot()){e.next=3;break}return e.abrupt("return");case 3:return M(a),e.next=6,Object(N.a)(a);case 6:if(r=e.sent,i=n.file){e.next=10;break}return e.abrupt("return");case 10:o="".concat(y.a.verifyUrl,"verify-card"),(c=new FormData).append("file",r),c.append("file",i),d={headers:{"content-type":"multipart/form-data"},timeout:15e3},E("webcam"),T.a.post(o,c,d).then((function(e){E(!1);var t=e.data;t.status?B(t):Object(w.a)("error",t.errorMessage)})).catch((function(){Object(w.a)("error","settings.faceDetectionFailed")}));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=u.a.useCallback(Object(p.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==I.length){e.next=3;break}return Object(w.a)("error","settings.uploadIdProof"),e.abrupt("return");case 3:t=I[0],L?M(0):H(O,t);case 5:case"end":return e.stop()}}),e)}))),[I,O,L]),K=null===e||void 0===e?void 0:e.is_verify_id;return u.a.createElement(b.d,null,u.a.createElement(a.a,{gutter:[16]},u.a.createElement(o.a,{xs:24},u.a.createElement("h2",{className:"userSettingsTitle"},u.a.createElement(m.a,{id:"settings.userVerification"}),u.a.createElement("small",{className:"ml5"},"(".concat(z.j.is_verify_id.weightage,"%)")))),u.a.createElement(o.a,{xs:24,xxl:12,xl:20,lg:20},u.a.createElement(r.a,{spinning:V},u.a.createElement("div",{className:"proofWrapper"},u.a.createElement("div",{style:{paddingBottom:8}},u.a.createElement("h3",{className:"uploadTitleWrap"},u.a.createElement(m.a,{id:"settings.verifyId"})),u.a.createElement(i.a,{color:K?"green":"red",style:{marginLeft:8}},u.a.createElement(m.a,{id:K?"settings.verified":"settings.notVerified"})))),u.a.createElement(a.a,{gutter:12},u.a.createElement(o.a,{xs:24,xl:12,lg:12},u.a.createElement(C.b,null,u.a.createElement(r.a,{tip:u.a.createElement(m.a,{id:"common.loading"}),spinning:"id"===h},0===I.length?u.a.createElement("div",{className:"dragWrapper verifyDrag",style:{border:"2px dashed #ddd",padding:"0px 19px !important"}},u.a.createElement("div",{className:"ant-upload-drag-container"},u.a.createElement("p",{className:"ant-upload-drag-icon",style:{margin:5}},u.a.createElement("img",{alt:"noimg",src:v.a,style:{width:130}})),u.a.createElement("p",{className:"ant-upload-text"},u.a.createElement(m.a,{id:"settings.uploadId"})))):u.a.createElement("img",{alt:"ID Card/Passport",src:I.length>0?I[0].dataURL:void 0,style:{width:"100%",height:"234px",objectFit:"contain"}}))),u.a.createElement(k.a,{value:I,onChange:function(e){U(e)},onError:function(e){e.maxFileSize&&Object(w.a)("error","settings.maxFileSizeExceeded")},maxFileSize:4194304},(function(e){var t=e.onImageUpload;return u.a.createElement(x.a,{type:"primary",style:{marginTop:15,width:120},onClick:t},u.a.createElement(m.a,{id:"settings.upload"}))}))),u.a.createElement(o.a,{xs:24,xl:12,lg:12},u.a.createElement(C.b,null,u.a.createElement(r.a,{tip:u.a.createElement(m.a,{id:"common.loading"}),spinning:"webcam"===h},L?u.a.createElement("img",{alt:"Selfie Camera",src:L,style:{width:"100%",height:"234px",objectFit:"cover"}}):u.a.createElement(F.a,{audio:!1,ref:O,screenshotFormat:"image/jpeg",style:{width:"100%",height:"234px",objectFit:"cover"}}))),u.a.createElement(x.a,{type:"primary",style:{marginTop:15,width:120},onClick:q},u.a.createElement(m.a,{id:L?"settings.retake":"settings.takeSelfie"})))),u.a.createElement("div",{style:{paddingTop:7}},u.a.createElement(m.a,{id:"settings.verifyHintMsg",values:{size:4,types:"JPG, PNG"}}),".")))))}},362:function(e,t,n){var a={"./sign1.woff":369,"./sign10.woff":370,"./sign2.woff":371,"./sign3.woff":372,"./sign4.woff":373,"./sign5.woff":374,"./sign6.woff":375,"./sign7.woff":376,"./sign8.woff":377,"./sign9.woff":378};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=362},369:function(e,t,n){e.exports=n.p+"static/media/sign1.4ff6fa8e.woff"},370:function(e,t,n){e.exports=n.p+"static/media/sign10.0492c7b9.woff"},371:function(e,t,n){e.exports=n.p+"static/media/sign2.6f99528c.woff"},372:function(e,t,n){e.exports=n.p+"static/media/sign3.b74bd153.woff"},373:function(e,t,n){e.exports=n.p+"static/media/sign4.19cfda73.woff"},374:function(e,t,n){e.exports=n.p+"static/media/sign5.d6a70b17.woff"},375:function(e,t,n){e.exports=n.p+"static/media/sign6.de962b07.woff"},376:function(e,t,n){e.exports=n.p+"static/media/sign7.0d7d23fa.woff"},377:function(e,t,n){e.exports=n.p+"static/media/sign8.03a50529.woff"},378:function(e,t,n){e.exports=n.p+"static/media/sign9.5dbdd664.woff"},966:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return u}));var a=n(5),r=n(4),i=n(56),o=n(50);function c(){var e=Object(a.a)(["\n  ","\n"]);return c=function(){return e},e}function s(){var e=Object(a.a)(["\n    ","\n  "]);return s=function(){return e},e}function d(){var e=Object(a.a)(["\n  background-color: rgb(244, 244, 244);\n  // border: 1px dashed rgb(204, 204, 204);\n  justify-content: center;\n  align-items: center;\n  // display: flex;\n  height: 234px;\n  border-radius: 5px;\n  @media (max-width: 768px) {\n    margin-bottom: 10px;\n  }\n\n  & .dragWrapper {\n    background-color: #f4f4f4 !important;\n    padding: 20px;\n    position: relative;\n    border: none;\n\n    &.verifyDrag {\n      min-width: 200px;\n      height: 234px;\n      padding: 40px 0 15px 0px;\n\n      & > span {\n        padding: 0px !important;\n      }\n\n      & .ant-upload-drag-container {\n        text-align: center;\n      }\n\n      & .verify-container {\n        img {\n          max-width: 100%;\n        }\n      }\n      & .changeTxt {\n        position: absolute;\n        right: 15px;\n        top: 10px;\n        color: ",";\n        padding: 0px 3px;\n        border: 1px solid ",";\n        border-radius: 2px;\n        font-weight: bold;\n        font-size: 13px;\n        cursor: pointer;\n      }\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=Object(a.a)(["\n  height: 26px;\n  width: 26px;\n  border-radius: 50%;\n  border: 1px solid #ddd;\n  text-align: center;\n  margin-left: 26px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n}\n"]);return p=function(){return e},e}function l(){var e=Object(a.a)(["\n  .signForm {\n    background-color: #f4f4f4;\n    width: 100%;\n    border: 1px dashed rgb(221, 221, 221);\n    padding: 10px;\n    border-radius: 5px;\n  }\n  .signPad {\n    width: 100%;\n  }\n  .absolute-cross {\n    position: absolute;\n    bottom: 45px;\n    left: 12px;\n    color: #999;\n    font-size: 12px;\n  }\n  .footerTxt {\n    text-align: center;\n    color: rgb(153, 153, 153);\n    font-size: 12px;\n  }\n  .clearTxt {\n    position: absolute;\n    right: 15px;\n    top: 10px;\n    color: ",";\n    padding: 0px 3px;\n    border: 1px solid ",";\n    border-radius: 2px;\n    font-weight: bold;\n    font-size: 13px;\n    cursor: pointer;\n  }\n  position: relative;\n  // margin-right: 5px;\n"]);return l=function(){return e},e}var f=r.d.div(l(),Object(i.palette)("primary",0),Object(i.palette)("primary",0)),u=(r.d.div(p(),Object(i.palette)("primary",0)),r.d.div(d(),Object(i.palette)("primary",0),Object(i.palette)("primary",0)));Object(o.a)(r.d.div(c(),function(){for(var e="",t=1;t<=10;t+=1){var a=n(362)("./sign".concat(t,".woff"));e+="\n      @font-face {\n        font-family: 'Sign".concat(t,"';\n        font-style: normal;\n        font-weight: 300;\n        font-display: swap;\n        src: url('").concat(a,"');\n        src: url('").concat(a,"') format('woff');\n      }\n    ")}return Object(r.c)(s(),e)}()))},967:function(e,t,n){e.exports=n.p+"static/media/noProof.0517e7bd.svg"}}]);