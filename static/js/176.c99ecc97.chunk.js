(this.webpackJsonpfilesdna=this.webpackJsonpfilesdna||[]).push([[176],{135:function(e,t,a){"use strict";var n=a(0),c=a(53);t.a=function(e){var t=e.form,a=e.visible,r=e.initVal,s=Object(n.useRef)();Object(n.useEffect)((function(){s.current=a,a&&Object(c.isObject)(r)&&!Object(c.isEmpty)(r)&&setTimeout((function(){t.setFieldsValue(r)}),100)}),[a]);var i=s.current;Object(n.useEffect)((function(){!a&&i&&t.resetFields()}),[a])}},1892:function(e,t,a){"use strict";a.r(t);var n=a(35),c=a.n(n),r=(a(95),a(96)),s=(a(65),a(66)),i=(a(507),a(513)),l=(a(72),a(73)),o=(a(203),a(207)),u=a(29),m=a(33),p=(a(137),a(141)),d=a(43),f=a(0),b=a.n(f),g=a(68),O=a(69),j=a(210),E=a(45),v=a(135),h=a(53),P=a(5),x=a(4),y=a(50);function k(){var e=Object(P.a)(["\n  & .pdfPages {\n    margin-top: 15px;\n\n    & > p {\n      margin-top: 2px;\n    }\n    & > p strong {\n      margin-left: 3px;\n      font-size: 18px;\n    }\n  }\n"]);return k=function(){return e},e}var w=Object(y.a)(x.d.div(k()));t.default=function(e){var t=e.visible,a=void 0!==t&&t,n=e.onClose,P=void 0===n?function(){}:n,x=e.rowData,y=void 0===x?{}:x,k=p.a.useForm(),_=Object(d.a)(k,1)[0],F=Object(f.useState)(!1),L=Object(d.a)(F,2),N=L[0],S=L[1],D=Object(f.useState)({totalPages:0,cLoading:!1}),C=Object(d.a)(D,2),I=C[0],T=C[1],V=I.totalPages;function q(){return(q=Object(m.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T((function(e){return Object(u.a)(Object(u.a)({},e),{},{cLoading:!0})})),e.prev=1,e.next=4,Object(O.a)("file/get-page-count",{document_id:y.id},"post");case 4:(t=e.sent).success?T((function(e){return Object(u.a)(Object(u.a)({},e),{},{totalPages:t.count||0,cLoading:!1})})):T((function(e){return Object(u.a)(Object(u.a)({},e),{},{cLoading:!1})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),T((function(e){return Object(u.a)(Object(u.a)({},e),{},{cLoading:!1})}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function z(){return(z=Object(m.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,Object(O.a)("file/split-document",t,"POST");case 4:(a=e.sent).success?(S(!1),Object(g.a)("success","document.splitSucMsg"),P()):(S(!1),Object(g.a)("error",a.message)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),S(!1),Object(g.a)("error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(v.a)({form:_,visible:a,initVal:{}}),Object(f.useEffect)((function(){a?function(){q.apply(this,arguments)}():T((function(e){return Object(u.a)(Object(u.a)({},e),{},{totalPages:0})}))}),[a]),b.a.createElement(j.a,{visible:a,onClose:N?null:P,title:b.a.createElement(E.a,{id:"documents.splitDoc",values:{doc:b.a.createElement("strong",null,y.name)}}),okText:b.a.createElement(E.a,{id:"common.split"}),onOk:N?null:function(){_.validateFields().then((function(e){Object(h.isInteger)(e.split_range)?e.split_range<1||e.split_range>=V?Object(g.a)("error","err.pdfPgError"):function(e){z.apply(this,arguments)}(Object(u.a)({document_id:y.id||0},e)):Object(g.a)("error","err.validPageNum")}))},onCancel:N?null:P,confirmLoading:N,footer:V<=1?null:void 0,okButtonProps:{id:"split-document"},destroyOnClose:!0},b.a.createElement(w,null,b.a.createElement(r.a,{spinning:N||I.cLoading},b.a.createElement(p.a,{form:_,layout:"vertical"},b.a.createElement(s.a,{gutter:6},V<=1&&!I.cLoading?b.a.createElement(o.a,{className:"errorResult",status:"warning",title:b.a.createElement(E.a,{id:"document.splitErr"}),subTitle:b.a.createElement(E.a,{id:"document.splitErrDesc"})}):b.a.createElement(b.a.Fragment,null,b.a.createElement(l.a,{span:24},b.a.createElement("p",null,b.a.createElement(E.a,{id:"document.totalPages",values:{pages:b.a.createElement("span",{style:{fontSize:16},className:"fw550"},V)}}))),b.a.createElement(l.a,{className:"mt15",span:24},b.a.createElement(p.a.Item,{label:b.a.createElement(E.a,{id:"common.pgNum"}),name:"split_range",rules:[{required:!0,message:b.a.createElement(E.a,{id:"req.pgNum"})}]},b.a.createElement(i.a,{step:1,style:{minWidth:"100%"}})),b.a.createElement(p.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return t.split_range!==e.split_range}},(function(e){var t=(0,e.getFieldValue)("split_range")||0;return t&&t<V&&Object(h.isInteger)(t)?b.a.createElement("div",{className:"pdfPages"},b.a.createElement("p",null,"PDF 1: ",b.a.createElement("strong",null,"1 - ",t)),b.a.createElement("p",null,"PDF 2:"," ",b.a.createElement("strong",null,t+1," - ",V))):null})))))))))}},210:function(e,t,a){"use strict";a(94);var n=a(92);t.a=n.a}}]);