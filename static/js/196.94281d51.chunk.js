(this.webpackJsonpfilesdna=this.webpackJsonpfilesdna||[]).push([[196],{916:function(e,a,t){"use strict";t.r(a);var n=t(35),r=t.n(n),i=(t(95),t(96)),c=(t(65),t(66)),l=(t(72),t(73)),o=(t(147),t(99)),s=t(29),d=t(33),m=t(43),u=t(0),p=t.n(u),v=t(68),f=t(69),b=t(293),E=t(210),h=t(45),O=t(110),g=t(135);a.default=function(e){var a=e.dData,t=void 0===a?{}:a,n=e.handleSubmit,j=void 0===n?function(){}:n,y=e.visible,k=void 0!==y&&y,x=e.onClose,F=void 0===x?function(){}:x,w=e.cFolderId,D=void 0===w?0:w,S=e.initVal,C=void 0===S?{}:S,P=Object(u.useState)(!1),V=Object(m.a)(P,2),_=V[0],q=V[1],I=b.a.useForm(),J=Object(m.a)(I,1)[0],N=C&&C.id;function T(){return(T=Object(d.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,e.next=4,Object(f.a)(N?"file/rename-folder":"file/create-folder",a,"POST");case 4:(t=e.sent).success?(q(!1),Object(v.a)("success",t.message),j(t.data||{})):(q(!1),Object(v.a)("error",t.message)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),q(!1),Object(v.a)("error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function B(){J.validateFields().then((function(e){var a,n=Object(s.a)({},e);n.folder_id=D||0,N&&(n.id=C.id),n.doc_type=(null===t||void 0===t||null===(a=t.apiData)||void 0===a?void 0:a.doc_type)||"Document",n.name=(null===n||void 0===n?void 0:n.name)?n.name.trim():"",(null===C||void 0===C?void 0:C.type)&&(n.type=C.type),function(e){T.apply(this,arguments)}(n)})).catch((function(e){console.log("Validate Failed:",e)}))}return Object(g.a)({form:J,visible:k,initVal:{name:C.name}}),p.a.createElement(O.d,null,p.a.createElement(E.a,{visible:k,onClose:_?null:F,title:p.a.createElement(h.a,{id:"file"===C.type&&N?"documents.editDocName":N?"documents.editFolderName":"documents.createFolder"}),okText:p.a.createElement(h.a,{id:N?"common.save":"common.create"}),onOk:_?null:B,onCancel:_?null:F,confirmLoading:_,okButtonProps:{id:"create-folder"}},p.a.createElement(i.a,{spinning:_},p.a.createElement(b.a,{form:J,layout:"vertical"},p.a.createElement(c.a,{gutter:6},p.a.createElement(l.a,{span:24},p.a.createElement(b.a.Item,{label:p.a.createElement(h.a,{id:"signature.name"}),name:"name",rules:[{required:!0,message:p.a.createElement(h.a,{id:"req.name"})},{max:50,message:p.a.createElement(h.a,{id:"err.max.50char"})},{whitespace:!0,message:p.a.createElement(h.a,{id:"err.blankSpace"})}]},p.a.createElement(o.a,{onPressEnter:B}))))))))}}}]);