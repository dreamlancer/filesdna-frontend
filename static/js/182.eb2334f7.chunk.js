(this.webpackJsonpfilesdna=this.webpackJsonpfilesdna||[]).push([[182],{1883:function(e,t,a){"use strict";a.r(t);var n=a(35),c=a.n(n),l=(a(95),a(96)),i=(a(78),a(63)),r=(a(132),a(134)),s=(a(79),a(64)),o=a(29),m=a(33),u=a(43),f=a(0),d=a.n(f),E=a(45),v=a(972),p=a(1133),b=a(861),h=a(68),N=a(250),j=a(937),O=a(178),g=a.n(O),y=a(69),k=a(53),I=a(576),T=a(776);var A=function(e){var t=e.activities,a=void 0===t?[]:t,n=e.setActiveTool,c=void 0===n?function(){}:n;return d.a.createElement("div",{className:"file-activities"},d.a.createElement("p",{className:"title"},d.a.createElement("span",{className:"titleHeader"},d.a.createElement(I.a,{className:"backIcon",onClick:function(){return c("file-info")}}),d.a.createElement("span",{className:"pTitle"},d.a.createElement(E.a,{id:"common.history"})))),d.a.createElement(T.default,{activities:a}))};t.default=function(e){var t=e.fInfo,a=void 0===t?{}:t,n=e.setDocData,O=void 0===n?function(){}:n,I=e.activeTool,T=e.setActiveTool,S=e.docId,C=Object(f.useState)({loading:Object(k.isEmpty)(a)}),w=Object(u.a)(C,2),L=w[0],_=w[1],M=L.loading,x=Object(j.a)(3e3),D=Object(u.a)(x,2),P=D[0],J=D[1];function F(){return(F=Object(m.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.a)("file/get-details",{document_id:S},"post");case 3:(t=e.sent).success&&t.data?O((function(e){return Object(o.a)(Object(o.a)({},e),{},{fInfo:t.data||e.fInfo})})):(Object(h.a)("error",t.message),_((function(e){return Object(o.a)(Object(o.a)({},e),{},{loading:!1})}))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(h.a)("error"),_((function(e){return Object(o.a)(Object(o.a)({},e),{},{loading:!1})}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(f.useEffect)((function(){Object(k.isEmpty)(a)?function(){F.apply(this,arguments)}():_((function(e){return Object(o.a)(Object(o.a)({},e),{},{loading:!1})}))}),[a]);var G=Object(f.useMemo)((function(){return N.b.find((function(e){return e.name===a.status}))}),[a.status]),H=(null===G||void 0===G?void 0:G.color)||"";return"file-history"===I?d.a.createElement(A,{setActiveTool:T,activities:(null===a||void 0===a?void 0:a.activities)||[]}):d.a.createElement(l.a,{spinning:M},d.a.createElement("div",{className:"fileInfoMain"},d.a.createElement("div",{className:"wTitle"},d.a.createElement("p",{className:"title"},d.a.createElement(E.a,{id:"common.fInfo"}),d.a.createElement(i.a,{type:"link",onClick:function(){return T("file-history")}},d.a.createElement("span",null,d.a.createElement(E.a,{id:"common.history"})," ",d.a.createElement(b.a,null))))),d.a.createElement("div",{className:"wContent"},d.a.createElement("div",{className:"fSetting"},d.a.createElement("div",{className:"fLabel"},d.a.createElement(E.a,{id:"common.filename"})),d.a.createElement("div",{className:"fvalue fName"},d.a.createElement(s.a,{placement:"topLeft",title:a.name},a.name||"-"))),d.a.createElement("div",{className:"fSetting"},d.a.createElement("div",{className:"fLabel"},d.a.createElement(E.a,{id:"common.createdAt"})),d.a.createElement("div",{className:"fvalue"},a.createdAt?g()(a.createdAt).format("lll"):"-")),d.a.createElement("div",{className:"fSetting"},d.a.createElement("div",{className:"label"},d.a.createElement(E.a,{id:"documents.hash"})),d.a.createElement("div",{className:"fvalue hash"},d.a.createElement(s.a,{className:"fvalue hashCode",placement:"topLeft",title:a.hash},a.hash||"-"),a.hash&&d.a.createElement(s.a,{className:"ml5",title:d.a.createElement(E.a,{id:"common.".concat(P?"copied":"copy")})},d.a.createElement(v.a,{onClick:function(){return J(a.hash)}})))),d.a.createElement("div",{className:"fSetting"},d.a.createElement("div",{className:"fLabel"},d.a.createElement(E.a,{id:"common.status"})),d.a.createElement("div",{className:"fvalue"},d.a.createElement(r.a,{color:H,icon:"Preparing"===a.status&&d.a.createElement(p.a,{spin:!0})},a.status&&d.a.createElement(E.a,{id:a.status.toLowerCase()})))))))}},776:function(e,t,a){"use strict";a.r(t);a(109);var n=a(249),c=(a(661),a(692)),l=a(0),i=a.n(l),r=a(178),s=a.n(r),o=a(53);t.default=function(e){var t=e.activities,a=void 0===t?[]:t,l=a.length;function r(e){return i.a.createElement(c.a.Item,{key:e.id},e.message?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,e.message," ",e.name)):"-",e.ip_address?i.a.createElement("p",{className:"date mb5"},"[",e.ip_address,"]"):null,i.a.createElement("p",{className:"date"},s()(e.createdAt).format("lll")))}return Object(o.isArray)(a)&&!Object(o.isEmpty)(a)?i.a.createElement("div",{className:"historyTimeline"},i.a.createElement(c.a,null,a.map((function(e){return 1===l?i.a.createElement("ul",{key:e.id},r(e)):r(e)})))):i.a.createElement(n.a,{image:n.a.PRESENTED_IMAGE_SIMPLE})}},937:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(43),c=a(0),l=a.n(c),i=a(740),r=a.n(i);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=l.a.useState(!1),a=Object(n.a)(t,2),c=a[0],i=a[1],s=l.a.useCallback((function(e){"string"===typeof e||"number"===typeof e?(r()(e.toString()),i(!0)):(i(!1),console.error("Cannot copy typeof ".concat(typeof e," to clipboard, must be a string or number.")))}),[]);return l.a.useEffect((function(){var t;return c&&e&&(t=setTimeout((function(){return i(!1)}),e)),function(){clearTimeout(t)}}),[c,e]),[c,s]}}}]);